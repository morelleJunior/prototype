<div class="camera-container">
  <div class="switch-holder">
    <div class="switch-label">
      <i class="fa fa-bluetooth-b"></i><span>CÃ¢mera</span>
    </div>
    <div class="switch-toggle">
      <input type="checkbox" id="bluetooth" [(ngModel)]="isCameraOn">
      <label for="bluetooth"></label>
    </div>
  </div>

  <!--ng Feedback -->
  <div *ngIf="successMessage" class="success-message">
    {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <div class="image-container">
    
    <div class="capture-camera-container">
      <webcam *ngIf="isBrowser && isCameraOn" [trigger]="triggerObservable" (imageCapture)="handleImage($event)">
      </webcam>
      <button class="capture-button" (click)="triggerSnapshot()">Capturar Foto</button>

    </div>

    <div class="gallery-container">
      <div class="gallery">
        <h3>Imagens Capturadas</h3>
        <div class="thumbnails">
          <div *ngFor="let img of capturedImages; let i = index" class="thumbnail-container">
            <img [src]="img.imageAsDataUrl" (click)="openImage(img)" class="thumbnail" alt="Captured photo">
            <div class="delete-button" >
              <button class="tooltip" (click)="deleteImage(i)">
                <mat-icon>delete</mat-icon>
                <span class="tooltiptext">Remover</span>
              </button>
            </div>

          </div>
        </div>
      </div>

      <div *ngIf="selectedImage" class="image-modal" (click)="closeImage()">
        <img [src]="selectedImage.imageAsDataUrl" alt="Selected photo">
      </div>
    </div>
  </div>

  <div *ngIf="webcamImage">
    <button class="send-button" (click)="sendCapturedImage()">Enviar Imagens</button>
  </div>
</div>